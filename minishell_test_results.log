═════════════════════════════════════════════════════════════
   MINISHELL TESTER - COMPREHENSIVE
   From evalsheet + GitHub tests (100+ cases)
   Valgrind: ENABLED (proper leak detection)
═════════════════════════════════════════════════════════════

=== BASIC TESTS ===
Test: pwd
    Expected: '/home/ksng/Documents/Common_Core/Minishell42'
    Got:      '/home/ksng/Documents/Common_Core/Minishell42'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo hello
    Expected: 'hello'
    Got:      'hello'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: ls /tmp
    Expected: '{16882E1A-B9E7-4BBC-B600-C5B78225DEB2}
codam-web-greeter-user-avatar
codam-web-greeter-user-wallpaper
config-err-uAPp9F
home_watcher_logs-ksng
krb5cc_0
krb5cc_102461_QzkdWK
krb5ccmachine_42SINGAPORE.SG
ksng-code-zsh
ms_a
ms_b
scoped_dirjowLN9'
    Got:      '{16882E1A-B9E7-4BBC-B600-C5B78225DEB2}
codam-web-greeter-user-avatar
codam-web-greeter-user-wallpaper
config-err-uAPp9F
home_watcher_logs-ksng
krb5cc_0
krb5cc_102461_QzkdWK
krb5ccmachine_42SINGAPORE.SG
ksng-code-zsh
ms_a
ms_b
scoped_dirjowLN9'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: 
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== ECHO COMMAND ===
Test: echo hello
    Expected: 'hello'
    Got:      'hello'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo -n test
    Expected: 'test'
    Got:      'test'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo -n aaa | cat -e
    Expected: 'aaa'
    Got:      'aaa'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

Test: echo "hello world"
    Expected: 'hello world'
    Got:      'hello world'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo 'hello world'
    Expected: 'hello world'
    Got:      'hello world'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo 1 2 3 4 5
    Expected: '1 2 3 4 5'
    Got:      '1 2 3 4 5'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== EXIT COMMAND ===
Test: exit 0
    Expected: ''
    Got:      'exit'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: exit 42
    Expected: ''
    Got:      'exit'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: exit 255
    Expected: ''
    Got:      'exit'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: exit a a
    Expected: 'bash: line 1: exit: a: numeric argument required'
    Got:      'exit
exit: a: numeric argument required'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: exit 1 2 3
    Expected: 'bash: line 1: exit: too many arguments'
    Got:      'exit
exit: too many arguments'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: exit -1
    Expected: ''
    Got:      'exit'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

=== QUOTE TOKENIZATION ===
Test: echo "IF YOU TOKENIZED THIS >> > < << OR THIS | || && ' ' you dum"
    Expected: 'IF YOU TOKENIZED THIS >> > < << OR THIS | || && ' ' you dum'
    Got:      'IF YOU TOKENIZED THIS >> > < << OR THIS | || && ' ' you dum'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo 'IF YOU TOKENIZED THIS >> > < << OR THIS | || && " " ur n $idot'
    Expected: 'IF YOU TOKENIZED THIS >> > < << OR THIS | || && " " ur n $idot'
    Got:      'IF YOU TOKENIZED THIS >> > < << OR THIS | || && " " ur n $idot'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo "    THIS SHOULD NOT TOUCH THE LEFT BOUNDARY"
    Expected: '    THIS SHOULD NOT TOUCH THE LEFT BOUNDARY'
    Got:      '    THIS SHOULD NOT TOUCH THE LEFT BOUNDARY'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo LEFTHAND'            'RIGHTHAND
    Expected: 'LEFTHAND            RIGHTHAND'
    Got:      'LEFTHAND            RIGHTHAND'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: ls "" ''
    Expected: 'ls: cannot access '': No such file or directory
ls: cannot access '': No such file or directory'
    Got:      'ls: cannot access '': No such file or directory
ls: cannot access '': No such file or directory'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo $notinenv
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo '$BetterNotHaveAFileWithDollar'
    Expected: '$BetterNotHaveAFileWithDollar'
    Got:      '$BetterNotHaveAFileWithDollar'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== EXPORT & ENVIRONMENT ===
Test: export VALID=value
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: export 1=invalid
    Expected: 'bash: line 1: export: `1=invalid': not a valid identifier'
    Got:      'export: `1': not a valid identifier'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: export !=invalid
    Expected: 'bash: line 1: export: `!=invalid': not a valid identifier'
    Got:      'export: `!': not a valid identifier'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: export
    Expected: 'declare -x CHROME_DESKTOP="code.desktop"
declare -x COLORTERM="truecolor"
declare -x DBUS_SESSION_BUS_ADDRESS="unix:path=/run/user/102461/bus"
declare -x DEBUGINFOD_URLS="https://debuginfod.ubuntu.com "
declare -x DESKTOP_SESSION="ubuntu"
declare -x DISPLAY=":0"
declare -x DOCKER_HOST="unix:///run/user/102461/docker.sock"
declare -x FT_HOOK_NAME="login-user"
declare -x FT_HOOK_PATHNAME="login-user.d"
declare -x GDK_BACKEND="x11"
declare -x GDMSESSION="ubuntu"
declare -x GIT_ASKPASS="/usr/share/code/resources/app/extensions/git/dist/askpass.sh"
declare -x GNOME_DESKTOP_SESSION_ID="this-is-deprecated"
declare -x GNOME_TERMINAL_SCREEN="/org/gnome/Terminal/screen/fb339440_f4b0_4134_a9a8_3ca9c3061016"
declare -x GNOME_TERMINAL_SERVICE=":1.79"
declare -x GPG_AGENT_INFO="/run/user/102461/gnupg/S.gpg-agent:0:1"
declare -x GTK_IM_MODULE="ibus"
declare -x GTK_MODULES="gail:atk-bridge"
declare -x HOME="/home/ksng"
declare -x IM_CONFIG_PHASE="1"
declare -x KRB5CCNAME="FILE:/tmp/krb5cc_102461_QzkdWK"
declare -x LANG="en_US.UTF-8"
declare -x LIBVIRT_DEFAULT_URI="qemu:///system"
declare -x LOGNAME="ksng"
declare -x LS_COLORS="rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:"
declare -x OLDPWD="/home/ksng"
declare -x ORIGINAL_XDG_CURRENT_DESKTOP="ubuntu:GNOME"
declare -x PATH="/home/ksng/bin:/home/ksng/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"
declare -x PWD="/home/ksng/Documents/Common_Core/Minishell42"
declare -x QT_ACCESSIBILITY="1"
declare -x QT_IM_MODULE="ibus"
declare -x SESSION_MANAGER="local/c1r2s2.42singapore.sg:@/tmp/.ICE-unix/3840725,unix/c1r2s2.42singapore.sg:/tmp/.ICE-unix/3840725"
declare -x SHELL="/bin/zsh"
declare -x SHLVL="3"
declare -x SSH_AGENT_LAUNCHER="gnome-keyring"
declare -x SSH_AUTH_SOCK="/run/user/102461/keyring/ssh"
declare -x SYSTEMD_EXEC_PID="3840752"
declare -x TERM="xterm-256color"
declare -x TERM_PROGRAM="vscode"
declare -x TERM_PROGRAM_VERSION="1.103.2"
declare -x USER="ksng"
declare -x USER_ZDOTDIR="/home/ksng"
declare -x VSCODE_GIT_ASKPASS_EXTRA_ARGS=""
declare -x VSCODE_GIT_ASKPASS_MAIN="/usr/share/code/resources/app/extensions/git/dist/askpass-main.js"
declare -x VSCODE_GIT_ASKPASS_NODE="/usr/share/code/code"
declare -x VSCODE_GIT_IPC_HANDLE="/run/user/102461/vscode-git-6ccb51572f.sock"
declare -x VSCODE_INJECTION="1"
declare -x VTE_VERSION="6800"
declare -x XAUTHORITY="/home/ksng/.Xauthority"
declare -x XDG_CONFIG_DIRS="/etc/xdg/xdg-ubuntu:/etc/xdg"
declare -x XDG_CURRENT_DESKTOP="Unity"
declare -x XDG_DATA_DIRS="/usr/share/ubuntu:/usr/share/gnome:/home/ksng/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop"
declare -x XDG_GREETER_DATA_DIR="/var/lib/lightdm-data/ksng"
declare -x XDG_MENU_PREFIX="gnome-"
declare -x XDG_RUNTIME_DIR="/run/user/102461"
declare -x XDG_SEAT_PATH="/org/freedesktop/DisplayManager/Seat0"
declare -x XDG_SESSION_CLASS="user"
declare -x XDG_SESSION_DESKTOP="ubuntu"
declare -x XDG_SESSION_PATH="/org/freedesktop/DisplayManager/Session0"
declare -x XDG_SESSION_TYPE="x11"
declare -x XMODIFIERS="@im=ibus"
declare -x ZDOTDIR="/home/ksng"
declare -x _="/usr/bin/bash"'
    Got:      'declare -x COLORTERM="truecolor"
declare -x DESKTOP_SESSION="ubuntu"
declare -x FT_HOOK_NAME="login-user"
declare -x FT_HOOK_PATHNAME="login-user.d"
declare -x GIT_ASKPASS="/usr/share/code/resources/app/extensions/git/dist/askpass.sh"
declare -x GNOME_DESKTOP_SESSION_ID="this-is-deprecated"
declare -x GNOME_TERMINAL_SCREEN="/org/gnome/Terminal/screen/fb339440_f4b0_4134_a9a8_3ca9c3061016"
declare -x CHROME_DESKTOP="code.desktop"
declare -x GPG_AGENT_INFO="/run/user/102461/gnupg/S.gpg-agent:0:1"
declare -x GTK_IM_MODULE="ibus"
declare -x GTK_MODULES="gail:atk-bridge"
declare -x HOME="/home/ksng"
declare -x IM_CONFIG_PHASE="1"
declare -x KRB5CCNAME="FILE:/tmp/krb5cc_102461_QzkdWK"
declare -x LANG="en_US.UTF-8"
declare -x GNOME_TERMINAL_SERVICE=":1.79"
declare -x DISPLAY=":0"
declare -x LIBVIRT_DEFAULT_URI="qemu:///system"
declare -x LOGNAME="ksng"
declare -x LS_COLORS="rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:"
declare -x DEBUGINFOD_URLS="https://debuginfod.ubuntu.com "
declare -x DOCKER_HOST="unix:///run/user/102461/docker.sock"
declare -x PWD="/home/ksng/Documents/Common_Core/Minishell42"
declare -x QT_ACCESSIBILITY="1"
declare -x GDK_BACKEND="x11"
declare -x PATH="/home/ksng/bin:/home/ksng/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"
declare -x GDMSESSION="ubuntu"
declare -x ORIGINAL_XDG_CURRENT_DESKTOP="ubuntu:GNOME"
declare -x DBUS_SESSION_BUS_ADDRESS="unix:path=/run/user/102461/bus"
declare -x OLDPWD="/home/ksng"
declare -x QT_IM_MODULE="ibus"
declare -x SESSION_MANAGER="local/c1r2s2.42singapore.sg:@/tmp/.ICE-unix/3840725,unix/c1r2s2.42singapore.sg:/tmp/.ICE-unix/3840725"
declare -x SHELL="/bin/zsh"
declare -x SHLVL="2"
declare -x SSH_AGENT_LAUNCHER="gnome-keyring"
declare -x SSH_AUTH_SOCK="/run/user/102461/keyring/ssh"
declare -x SYSTEMD_EXEC_PID="3840752"
declare -x TERM="xterm-256color"
declare -x TERM_PROGRAM="vscode"
declare -x TERM_PROGRAM_VERSION="1.103.2"
declare -x USER="ksng"
declare -x USER_ZDOTDIR="/home/ksng"
declare -x VSCODE_GIT_ASKPASS_EXTRA_ARGS=""
declare -x VSCODE_GIT_ASKPASS_MAIN="/usr/share/code/resources/app/extensions/git/dist/askpass-main.js"
declare -x VSCODE_GIT_ASKPASS_NODE="/usr/share/code/code"
declare -x VSCODE_GIT_IPC_HANDLE="/run/user/102461/vscode-git-6ccb51572f.sock"
declare -x VSCODE_INJECTION="1"
declare -x VTE_VERSION="6800"
declare -x XAUTHORITY="/home/ksng/.Xauthority"
declare -x XDG_CONFIG_DIRS="/etc/xdg/xdg-ubuntu:/etc/xdg"
declare -x XDG_CURRENT_DESKTOP="Unity"
declare -x XDG_DATA_DIRS="/usr/share/ubuntu:/usr/share/gnome:/home/ksng/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share:/usr/share:/var/lib/snapd/desktop"
declare -x XDG_GREETER_DATA_DIR="/var/lib/lightdm-data/ksng"
declare -x XDG_MENU_PREFIX="gnome-"
declare -x XDG_RUNTIME_DIR="/run/user/102461"
declare -x XDG_SEAT_PATH="/org/freedesktop/DisplayManager/Seat0"
declare -x XDG_SESSION_CLASS="user"
declare -x XDG_SESSION_DESKTOP="ubuntu"
declare -x XDG_SESSION_PATH="/org/freedesktop/DisplayManager/Session0"
declare -x XDG_SESSION_TYPE="x11"
declare -x XMODIFIERS="@im=ibus"
declare -x ZDOTDIR="/home/ksng"
declare -x _="./minishell"'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: env | wc -l
    Expected: '63'
    Got:      '0'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✗ FAIL

=== CD AND PWD ===
Test: cd /tmp && pwd
    Expected: '/tmp'
    Got:      '/tmp'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: cd /nonexistent
    Expected: 'bash: line 1: cd: /nonexistent: No such file or directory'
    Got:      'cd: No such file or directory: /nonexistent'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: cd .
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: cd ..
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: cd ../../ && pwd
    Expected: '/home/ksng/Documents'
    Got:      '/home/ksng/Documents'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: cd /./././ && pwd
    Expected: '/'
    Got:      '/'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== REDIRECTIONS ===
Test: echo a 1 > /tmp/ms_h.txt && cat /tmp/ms_h.txt
    Expected: 'a 1'
    Got:      'a 1'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo a 1>/tmp/ms_i.txt && cat /tmp/ms_i.txt
    Expected: 'a'
    Got:      'a'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo hello > /tmp/ms_out.txt && cat /tmp/ms_out.txt
    Expected: 'hello'
    Got:      'hello'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: cat < /etc/hostname
    Expected: 'c1r2s2.42singapore.sg'
    Got:      'c1r2s2.42singapore.sg'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo line1 >> /tmp/ms_app.txt && echo line2 >> /tmp/ms_app.txt && cat /tmp/ms_app.txt
    Expected: 'line1
line2
line1
line2'
    Got:      'line1
line2'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: echo test > /tmp/ms_a > /tmp/ms_b && cat /tmp/ms_b
    Expected: 'test'
    Got:      'test'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== PIPES ===
Test: echo A | cat
    Expected: 'A'
    Got:      'A'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

Test: echo hello | cat | cat
    Expected: 'hello'
    Got:      'hello'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2
2
2)
    ✓ PASS

Test: echo test | grep test
    Expected: 'test'
    Got:      'test'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

Test: ls /tmp | grep tmp
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

Test: cat | cat | cat
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2
2
2)
    ✓ PASS

=== LOGICAL OPERATORS ===
Test: echo a || echo b && echo c
    Expected: 'a
c'
    Got:      'a
c'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo a && echo b || echo c
    Expected: 'a
b'
    Got:      'a
b'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: true && true
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: true && false
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: false || true
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: true || false && false
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: false && false || false && true
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== ECHO FLAG VARIANTS ===
Test: echo -nnnnnn test
    Expected: 'test'
    Got:      'test'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo -n -n -n test
    Expected: 'test'
    Got:      'test'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo -nnnnnnn -n -n konichiwa
    Expected: 'konichiwa'
    Got:      'konichiwa'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== SPACE HANDLING ===
Test: echo a    b
    Expected: 'a b'
    Got:      'a b'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo "  hello  world  "
    Expected: '  hello  world  '
    Got:      '  hello  world  '
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo '   multiple   spaces   '
    Expected: '   multiple   spaces   '
    Got:      '   multiple   spaces   '
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== NULL EXPANSION ===
Test: echo a$notinenvDidThisDisappear?
    Expected: 'a?'
    Got:      'a?'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: echo a"$notinenv"DidThisDisappear?
    Expected: 'aDidThisDisappear?'
    Got:      'aDidThisDisappear?'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== RETURN VALUE TESTS ===
Test: true
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: false
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: ls /tmp
    Expected: '{16882E1A-B9E7-4BBC-B600-C5B78225DEB2}
codam-web-greeter-user-avatar
codam-web-greeter-user-wallpaper
config-err-uAPp9F
home_watcher_logs-ksng
krb5cc_0
krb5cc_102461_QzkdWK
krb5ccmachine_42SINGAPORE.SG
ksng-code-zsh
ms_a
ms_app.txt
ms_b
ms_h.txt
ms_i.txt
ms_out.txt
scoped_dirjowLN9'
    Got:      '{16882E1A-B9E7-4BBC-B600-C5B78225DEB2}
codam-web-greeter-user-avatar
codam-web-greeter-user-wallpaper
config-err-uAPp9F
home_watcher_logs-ksng
krb5cc_0
krb5cc_102461_QzkdWK
krb5ccmachine_42SINGAPORE.SG
ksng-code-zsh
ms_a
ms_app.txt
ms_b
ms_h.txt
ms_i.txt
ms_out.txt
scoped_dirjowLN9'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: ls /nonexistent
    Expected: 'ls: cannot access '/nonexistent': No such file or directory'
    Got:      'ls: cannot access '/nonexistent': No such file or directory'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: nonexistent_cmd
    Expected: 'bash: line 1: nonexistent_cmd: command not found'
    Got:      'nonexistent_cmd: command not found'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2)
    ✗ FAIL

=== STDERR REDIRECT ===
Test: ls /nonexistent 2> /tmp/ms_err.txt && cat /tmp/ms_err.txt
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: cat < /nonexistent
    Expected: 'bash: line 1: /nonexistent: No such file or directory'
    Got:      '/nonexistent: No such file or directory'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

=== PIPE WITH REDIRECT ===
Test: echo hello | cat > /tmp/ms_pipe.txt && cat /tmp/ms_pipe.txt
    Expected: 'hello'
    Got:      'hello'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

Test: cat < /etc/hostname | cat
    Expected: 'c1r2s2.42singapore.sg'
    Got:      'c1r2s2.42singapore.sg'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

=== COMPLEX COMBINATIONS ===
Test: echo a && echo b && echo c
    Expected: 'a
b
c'
    Got:      'a
b
c'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: false || false || true
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: true && false || true
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: ls | grep tmp && echo found
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2
2)
    ✓ PASS

=== SYNTAX ERRORS ===
Test: | cat
    Expected: 'bash: line 1: syntax error near unexpected token `|'
bash: line 1: `| cat''
    Got:      'minishell: syntax error near unexpected token `newline''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: &&
    Expected: 'bash: line 1: syntax error near unexpected token `&&'
bash: line 1: `&&''
    Got:      'minishell: syntax error near unexpected token `newline''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: ||
    Expected: 'bash: line 1: syntax error near unexpected token `||'
bash: line 1: `||''
    Got:      'minishell: syntax error near unexpected token `newline''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: echo test |
    Expected: 'bash: line 2: syntax error: unexpected end of file'
    Got:      'minishell: syntax error near unexpected token `newline''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: echo test &&
    Expected: 'bash: line 2: syntax error: unexpected end of file'
    Got:      'minishell: syntax error near unexpected token `newline''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

Test: < > cat
    Expected: 'bash: line 1: syntax error near unexpected token `>'
bash: line 1: `< > cat''
    Got:      'minishell: syntax error near unexpected token'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✗ FAIL

=== HEREDOC ===
Test: cat << EOF
hello world
EOF
    Expected: 'hello world'
    Got:      '> hello world
> EOF
hello world'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2
2)
    ✗ FAIL

=== MULTIPLE ARGUMENTS ===
Test: echo 1 2 3 4 5 6 7 8 9 10
    Expected: '1 2 3 4 5 6 7 8 9 10'
    Got:      '1 2 3 4 5 6 7 8 9 10'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: ls /tmp /etc
    Expected: '/etc:
adduser.conf
alsa
alternatives
apache2
apg.conf
apparmor
apparmor.d
apport
appstream.conf
apt
avahi
bash.bashrc
bash_completion
bash_completion.d
bindresvport.blacklist
binfmt.d
bluetooth
byobu
ca-certificates
ca-certificates.conf
ca-certificates.conf.dpkg-old
chatscripts
chromium
chromium-browser
cloud
console-setup
containerd
cracklib
crc
cron.d
cron.daily
cron.hourly
cron.monthly
crontab
cron.weekly
cryptsetup-initramfs
crypttab
cups
cupshelpers
dbus-1
dconf
debconf.conf
debian_version
debuginfod
default
deluser.conf
depmod.d
dhcp
dictionaries-common
dkms
dleyna-server-service.conf
dnsmasq.d
dnsmasq.d-available
docker
dpkg
e2scrub.conf
emacs
environment
environment.d
ethertypes
exam_master_host
exports
firebird
fish
fonts
fstab
fuse.conf
fwupd
gai.conf
gdb
gdm3
geoclue
ghostscript
glvnd
gnome
groff
group
group-
grub.d
gshadow
gshadow-
gss
gtk-2.0
gtk-3.0
guest-session
hdparm.conf
host.conf
hostname
hosts
hosts.allow
hosts.deny
hosts.exam
idmapd.conf
ifplugd
init
init.d
initramfs-tools
inputrc
insserv.conf.d
ipp-usb
iproute2
irssi.conf
iscsi
issue
issue.net
java-11-openjdk
java-17-openjdk
kernel
keyutils
krb5.conf
krb5.keytab
landscape
ldap
ldap.conf
ld.so.cache
ld.so.conf
ld.so.conf.d
legal
libaudit.conf
libblockdev
libibverbs.d
libnl-3
libpaper.d
libreoffice
libvirt
lightdm
lighttpd
locale.alias
locale.gen
localtime
logcheck
login.defs
logrotate.conf
logrotate.d
lsb-release
lvm
lynx
machine-id
magic
magic.mime
mailcap
mailcap.order
manpath.config
mdadm
mdevctl.d
mime.types
mke2fs.conf
ModemManager
modprobe.d
modules
modules-load.d
mtab
multipath
multipath.conf
mysql
nanorc
needrestart
netconfig
netplan
network
networkd-dispatcher
NetworkManager
networks
newt
nfs.conf
nfs.conf.d
nftables.conf
notify_send_all.sh
nscd.conf
nslcd.conf
nsswitch.conf
ntp.conf
ocsinventory
opt
osquery
os-release
overlayroot.conf
PackageKit
pam.conf
pam.d
papersize
passwd
passwd-
perl
php
pip.conf
pki
pm
polkit-1
pollinate
ppp
printcap
profile
profile.d
protocols
pulse
python3
python3.10
qemu-ifdown
qemu-ifup
quotagrpadmins
quotatab
rc0.d
rc1.d
rc2.d
rc3.d
rc4.d
rc5.d
rc6.d
rcS.d
redis
request-key.conf
request-key.d
resolv.conf
rmt
rpc
rsyslog.conf
rsyslog.d
rygel.conf
sane.d
sasl2
screenrc
security
selinux
sensors3.conf
sensors.d
services
sgml
shadow
shadow-
shells
siege
skel
smartd.conf
smartmontools
snmp
sos
ssh
ssl
sssd
subgid
subgid-
subuid
subuid-
sudo.conf
sudoers
sudoers.d
sudo_logsrvd.conf
supervisor
swtpm-localca.conf
swtpm-localca.options
swtpm_setup.conf
sysctl.conf
sysctl.d
systemd
terminfo
thermald
tigervnc
timezone
timidity
tmpfiles.d
ubuntu-advantage
ucf.conf
udev
udisks2
ufw
update-manager
update-motd.d
update-notifier
UPower
usb_modeswitch.conf
usb_modeswitch.d
vbox
vdpau_wrapper.cfg
vim
vmware-tools
vtrgb
vulkan
warnquota.conf
wgetrc
whoopsie
wpa_supplicant
X11
xattr.conf
xdg
xml
zsh
zsh_command_not_found

/tmp:
{16882E1A-B9E7-4BBC-B600-C5B78225DEB2}
codam-web-greeter-user-avatar
codam-web-greeter-user-wallpaper
config-err-uAPp9F
home_watcher_logs-ksng
krb5cc_0
krb5cc_102461_QzkdWK
krb5ccmachine_42SINGAPORE.SG
ksng-code-zsh
ms_a
ms_app.txt
ms_b
ms_err.txt
ms_h.txt
ms_i.txt
ms_out.txt
ms_pipe.txt
scoped_dirjowLN9'
    Got:      '/etc:
adduser.conf
alsa
alternatives
apache2
apg.conf
apparmor
apparmor.d
apport
appstream.conf
apt
avahi
bash.bashrc
bash_completion
bash_completion.d
bindresvport.blacklist
binfmt.d
bluetooth
byobu
ca-certificates
ca-certificates.conf
ca-certificates.conf.dpkg-old
chatscripts
chromium
chromium-browser
cloud
console-setup
containerd
cracklib
crc
cron.d
cron.daily
cron.hourly
cron.monthly
crontab
cron.weekly
cryptsetup-initramfs
crypttab
cups
cupshelpers
dbus-1
dconf
debconf.conf
debian_version
debuginfod
default
deluser.conf
depmod.d
dhcp
dictionaries-common
dkms
dleyna-server-service.conf
dnsmasq.d
dnsmasq.d-available
docker
dpkg
e2scrub.conf
emacs
environment
environment.d
ethertypes
exam_master_host
exports
firebird
fish
fonts
fstab
fuse.conf
fwupd
gai.conf
gdb
gdm3
geoclue
ghostscript
glvnd
gnome
groff
group
group-
grub.d
gshadow
gshadow-
gss
gtk-2.0
gtk-3.0
guest-session
hdparm.conf
host.conf
hostname
hosts
hosts.allow
hosts.deny
hosts.exam
idmapd.conf
ifplugd
init
init.d
initramfs-tools
inputrc
insserv.conf.d
ipp-usb
iproute2
irssi.conf
iscsi
issue
issue.net
java-11-openjdk
java-17-openjdk
kernel
keyutils
krb5.conf
krb5.keytab
landscape
ldap
ldap.conf
ld.so.cache
ld.so.conf
ld.so.conf.d
legal
libaudit.conf
libblockdev
libibverbs.d
libnl-3
libpaper.d
libreoffice
libvirt
lightdm
lighttpd
locale.alias
locale.gen
localtime
logcheck
login.defs
logrotate.conf
logrotate.d
lsb-release
lvm
lynx
machine-id
magic
magic.mime
mailcap
mailcap.order
manpath.config
mdadm
mdevctl.d
mime.types
mke2fs.conf
ModemManager
modprobe.d
modules
modules-load.d
mtab
multipath
multipath.conf
mysql
nanorc
needrestart
netconfig
netplan
network
networkd-dispatcher
NetworkManager
networks
newt
nfs.conf
nfs.conf.d
nftables.conf
notify_send_all.sh
nscd.conf
nslcd.conf
nsswitch.conf
ntp.conf
ocsinventory
opt
osquery
os-release
overlayroot.conf
PackageKit
pam.conf
pam.d
papersize
passwd
passwd-
perl
php
pip.conf
pki
pm
polkit-1
pollinate
ppp
printcap
profile
profile.d
protocols
pulse
python3
python3.10
qemu-ifdown
qemu-ifup
quotagrpadmins
quotatab
rc0.d
rc1.d
rc2.d
rc3.d
rc4.d
rc5.d
rc6.d
rcS.d
redis
request-key.conf
request-key.d
resolv.conf
rmt
rpc
rsyslog.conf
rsyslog.d
rygel.conf
sane.d
sasl2
screenrc
security
selinux
sensors3.conf
sensors.d
services
sgml
shadow
shadow-
shells
siege
skel
smartd.conf
smartmontools
snmp
sos
ssh
ssl
sssd
subgid
subgid-
subuid
subuid-
sudo.conf
sudoers
sudoers.d
sudo_logsrvd.conf
supervisor
swtpm-localca.conf
swtpm-localca.options
swtpm_setup.conf
sysctl.conf
sysctl.d
systemd
terminfo
thermald
tigervnc
timezone
timidity
tmpfiles.d
ubuntu-advantage
ucf.conf
udev
udisks2
ufw
update-manager
update-motd.d
update-notifier
UPower
usb_modeswitch.conf
usb_modeswitch.d
vbox
vdpau_wrapper.cfg
vim
vmware-tools
vtrgb
vulkan
warnquota.conf
wgetrc
whoopsie
wpa_supplicant
X11
xattr.conf
xdg
xml
zsh
zsh_command_not_found

/tmp:
{16882E1A-B9E7-4BBC-B600-C5B78225DEB2}
codam-web-greeter-user-avatar
codam-web-greeter-user-wallpaper
config-err-uAPp9F
home_watcher_logs-ksng
krb5cc_0
krb5cc_102461_QzkdWK
krb5ccmachine_42SINGAPORE.SG
ksng-code-zsh
ms_a
ms_app.txt
ms_b
ms_err.txt
ms_h.txt
ms_i.txt
ms_out.txt
ms_pipe.txt
scoped_dirjowLN9'
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

=== UNSET ===
Test: unset TESTVAR
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

Test: export VAR=test && unset VAR
    Expected: ''
    Got:      ''
    Exit: Expected 0 | Got 0
    Memory/FD: ✓ No leaks (FDs: 2)
    ✓ PASS

═════════════════════════════════════════════════════════════
                         SUMMARY
═════════════════════════════════════════════════════════════
 Total Passed:     64
 Total Failed:     21
 Memory Leaks:     0
 FD Leaks:        0
 Total Tests:      85
═════════════════════════════════════════════════════════════
 Status:           75% - 21 FAILED
═════════════════════════════════════════════════════════════

Log saved to: /home/ksng/Documents/Common_Core/Minishell42/minishell_test_results.log
